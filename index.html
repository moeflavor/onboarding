üìù HERE'S YOUR COMPLETE WORKING PIXEL TRAINING PORTAL!
Copy this ONE HTML FILE and paste it in your GitHub repo as index.html:

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoeFlavor Pixel Quest - Training Portal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #1a1a2e;
            color: white;
            overflow: hidden;
        }

        /* Pixel Art Font */
        .pixel-font {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            text-transform: uppercase;
            image-rendering: pixelated;
        }

        /* Status Bar */
        .status-bar {
            background: #16213e;
            border-bottom: 4px solid #0f3460;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .status-left {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .bar-container {
            width: 120px;
            height: 20px;
            background: #0f3460;
            border: 2px solid #fff;
            position: relative;
        }

        .bar-fill {
            height: 100%;
            transition: width 0.3s;
        }

        .hp-bar { background: #e94560; }
        .xp-bar { background: #f5008b; }

        .title {
            font-size: 24px;
            color: #f5008b;
            text-shadow: 2px 2px #000;
        }

        /* Game Container */
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: calc(100vh - 70px);
            padding: 20px;
        }

        /* Map Container */
        .map-container {
            position: relative;
            width: 800px;
            height: 600px;
            background: #88c070;
            border: 8px solid #4a4a4a;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            overflow: hidden;
        }

        /* Map Tiles */
        .tile {
            position: absolute;
            width: 64px;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }

        .tile:hover {
            transform: scale(1.05);
            filter: brightness(1.2);
        }

        /* Tile Types */
        .grass { background: #88c070; }
        .path { background: #d4a574; }
        .water { background: #5080a8; }

        /* Buildings */
        .building {
            width: 96px;
            height: 96px;
            border: 4px solid #000;
            font-size: 48px;
            box-shadow: 4px 4px 0 rgba(0,0,0,0.3);
        }

        .castle { background: linear-gradient(135deg, #c05050, #a03030); }
        .toolshop { background: linear-gradient(135deg, #f0c050, #d0a030); }
        .forge { background: linear-gradient(135deg, #ff6b35, #d04020); }
        .workshop { background: linear-gradient(135deg, #8068a0, #604880); }
        .market { background: linear-gradient(135deg, #50c878, #30a858); }
        .service { background: linear-gradient(135deg, #5bc0de, #3ba0be); }

        /* Character */
        .character {
            position: absolute;
            width: 48px;
            height: 48px;
            background: #f5008b;
            border: 3px solid #fff;
            border-radius: 8px;
            transition: all 0.2s;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 3px 3px 0 rgba(0,0,0,0.3);
        }

        /* Modal/Dialog */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: #16213e;
            border: 6px solid #f5008b;
            border-radius: 10px;
            padding: 30px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(245,0,139,0.5);
        }

        .modal-title {
            font-size: 28px;
            color: #f5008b;
            margin-bottom: 20px;
            text-align: center;
        }

        .modal-text {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 20px;
            color: #e0e0e0;
        }

        .btn {
            background: linear-gradient(135deg, #f5008b, #e94560);
            color: white;
            border: 3px solid #fff;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s;
            margin: 5px;
            box-shadow: 4px 4px 0 rgba(0,0,0,0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 6px 6px 0 rgba(0,0,0,0.3);
        }

        .btn:active {
            transform: translateY(0);
            box-shadow: 2px 2px 0 rgba(0,0,0,0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6c757d, #5a6268);
        }

        /* Module List */
        .module-list {
            margin: 20px 0;
        }

        .module-item {
            background: rgba(255,255,255,0.1);
            border: 2px solid #f5008b;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .module-item:hover {
            background: rgba(245,0,139,0.2);
            transform: translateX(5px);
        }

        .module-item.completed {
            background: rgba(0,255,0,0.2);
            border-color: #00ff00;
        }

        /* Quiz Styles */
        .quiz-question {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .quiz-option {
            background: rgba(255,255,255,0.1);
            border: 2px solid #6c757d;
            padding: 12px;
            margin: 8px 0;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quiz-option:hover {
            background: rgba(245,0,139,0.2);
            border-color: #f5008b;
        }

        .quiz-option.selected {
            background: rgba(245,0,139,0.3);
            border-color: #f5008b;
        }

        .quiz-option.correct {
            background: rgba(0,255,0,0.3);
            border-color: #00ff00;
        }

        .quiz-option.incorrect {
            background: rgba(255,0,0,0.3);
            border-color: #ff0000;
        }

        /* Loading */
        .loading {
            text-align: center;
            font-size: 24px;
            padding: 40px;
        }

        .hidden {
            display: none !important;
        }

        /* Instructions */
        .instructions {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
            color: #aaa;
        }
    </style>
</head>
<body class="pixel-font">

    <!-- Status Bar -->
    <div class="status-bar">
        <div class="status-left">
            <div class="stat-item">
                <span style="font-size: 20px;">LVL <span id="player-level">1</span></span>
            </div>
            <div class="stat-item">
                <span>HP:</span>
                <div class="bar-container">
                    <div id="hp-bar" class="bar-fill hp-bar" style="width: 100%;"></div>
                </div>
                <span id="hp-text">100/100</span>
            </div>
            <div class="stat-item">
                <span>XP:</span>
                <div class="bar-container">
                    <div id="xp-bar" class="bar-fill xp-bar" style="width: 0%;"></div>
                </div>
                <span id="xp-text">0/100</span>
            </div>
        </div>
        <div class="title">MoeFlavor Quest</div>
        <div class="status-right">
            <span id="location-name">Loading...</span>
        </div>
    </div>

    <!-- Game Container -->
    <div class="game-container">
        <!-- Map -->
        <div class="map-container" id="map">
            <!-- Buildings -->
            <div class="tile building castle" style="left: 100px; top: 50px;" onclick="enterLocation('castle')">
                üè∞
            </div>
            <div class="tile building toolshop" style="left: 300px; top: 200px;" onclick="enterLocation('toolshop')">
                üî®
            </div>
            <div class="tile building forge" style="left: 500px; top: 100px;" onclick="enterLocation('forge')">
                üè≠
            </div>
            <div class="tile building workshop" style="left: 600px; top: 300px;" onclick="enterLocation('workshop')">
                üì¶
            </div>
            <div class="tile building market" style="left: 400px; top: 450px;" onclick="enterLocation('market')">
                üõí
            </div>
            <div class="tile building service" style="left: 150px; top: 400px;" onclick="enterLocation('service')">
                üí¨
            </div>

            <!-- Character -->
            <div class="character" id="character" style="left: 100px; top: 150px;">
                üë§
            </div>
        </div>

        <div class="instructions">
            Use WASD or Arrow Keys to move ‚Ä¢ Click buildings to enter
        </div>
    </div>

    <!-- Modal Dialog -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <div class="modal-title" id="modal-title">Location</div>
            <div id="modal-body"></div>
        </div>
    </div>

    <script>
        // Configuration
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzz_zl42rXJXpwoEE-M5RyRw5lQoIDfWahRV1zbuSv8xL-ZdGyqxV4EGc0lG4nRcr9z/exec';

        // Game State
        let gameState = {
            level: 1,
            hp: 100,
            maxHp: 100,
            xp: 0,
            maxXp: 100,
            completed: [],
            currentLocation: 'map',
            characterPos: { x: 100, y: 150 }
        };

        // Training Data (from Google Sheets)
        let trainingData = {
            phases: [],
            team: []
        };

        // Load saved progress
        function loadProgress() {
            const saved = localStorage.getItem('moeflavor-progress');
            if (saved) {
                gameState = { ...gameState, ...JSON.parse(saved) };
                updateUI();
            }
        }

        // Save progress
        function saveProgress() {
            localStorage.setItem('moeflavor-progress', JSON.stringify(gameState));
        }

        // Fetch training data from Google Sheets
        async function fetchTrainingData() {
            try {
                document.getElementById('location-name').textContent = 'Loading training data...';
                
                const response = await fetch(`${SCRIPT_URL}?endpoint=structure`);
                const data = await response.json();
                
                if (data.phases) {
                    trainingData.phases = data.phases;
                }

                const teamResponse = await fetch(`${SCRIPT_URL}?endpoint=team`);
                const teamData = await teamResponse.json();
                if (teamData) {
                    trainingData.team = teamData;
                }

                document.getElementById('location-name').textContent = 'Ready to Adventure!';
                
                // Show castle intro if first time
                if (!gameState.completed.includes('castle')) {
                    setTimeout(() => enterLocation('castle'), 1000);
                }
            } catch (error) {
                console.error('Error loading training data:', error);
                document.getElementById('location-name').textContent = 'Error loading data';
                // Continue with demo data
                trainingData.phases = [
                    {
                        id: 'P1',
                        title: 'Foundation',
                        modules: [
                            {
                                id: 'M1',
                                title: 'Welcome to MoeFlavor',
                                lessons: [
                                    { id: 'L1', title: 'The MoeFlavor Story', duration: '5 min' },
                                    { id: 'L2', title: 'Our Mission', duration: '3 min' }
                                ],
                                quiz: { id: 'Q1', title: 'Foundation Quiz' }
                            }
                        ]
                    }
                ];
            }
        }

        // Update UI
        function updateUI() {
            document.getElementById('player-level').textContent = gameState.level;
            document.getElementById('hp-text').textContent = `${gameState.hp}/${gameState.maxHp}`;
            document.getElementById('xp-text').textContent = `${gameState.xp}/${gameState.maxXp}`;
            document.getElementById('hp-bar').style.width = `${(gameState.hp / gameState.maxHp) * 100}%`;
            document.getElementById('xp-bar').style.width = `${(gameState.xp / gameState.maxXp) * 100}%`;
            
            const character = document.getElementById('character');
            character.style.left = gameState.characterPos.x + 'px';
            character.style.top = gameState.characterPos.y + 'px';
        }

        // Character Movement
        const keysPressed = new Set();

        document.addEventListener('keydown', (e) => {
            if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'w', 'a', 's', 'd'].includes(e.key)) {
                e.preventDefault();
                keysPressed.add(e.key.toLowerCase());
            }
        });

        document.addEventListener('keyup', (e) => {
            keysPressed.delete(e.key.toLowerCase());
        });

        function moveCharacter() {
            const speed = 3;
            let newX = gameState.characterPos.x;
            let newY = gameState.characterPos.y;

            if (keysPressed.has('arrowup') || keysPressed.has('w')) newY -= speed;
            if (keysPressed.has('arrowdown') || keysPressed.has('s')) newY += speed;
            if (keysPressed.has('arrowleft') || keysPressed.has('a')) newX -= speed;
            if (keysPressed.has('arrowright') || keysPressed.has('d')) newX += speed;

            // Boundaries
            newX = Math.max(0, Math.min(750, newX));
            newY = Math.max(0, Math.min(550, newY));

            gameState.characterPos = { x: newX, y: newY };
            updateUI();

            requestAnimationFrame(moveCharacter);
        }

        moveCharacter();

        // Enter Location
        function enterLocation(location) {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modal-title');
            const body = document.getElementById('modal-body');

            gameState.currentLocation = location;
            document.getElementById('location-name').textContent = getLocationName(location);

            let content = '';

            switch(location) {
                case 'castle':
                    title.textContent = 'üè∞ The Royal Castle';
                    content = `
                        <div class="modal-text">
                            <h3>Welcome, Noble Recruit!</h3>
                            <p>Welcome to MoeFlavor Kingdom! You are about to embark on an epic journey to master the art of kawaii commerce.</p>
                            <p><strong>Your Quest:</strong> Travel through our realm, completing training at each location to become a MoeFlavor Master!</p>
                            <h4 style="color: #f5008b; margin-top: 20px;">Meet Your Leaders:</h4>
                        </div>
                        <div class="module-list" id="team-list"></div>
                        <button class="btn" onclick="completeCastle()">Begin Your Adventure!</button>
                        <button class="btn btn-secondary" onclick="closeModal()">Explore Later</button>
                    `;
                    body.innerHTML = content;
                    loadTeam();
                    break;

                case 'toolshop':
                    title.textContent = 'üî® The Tool Shop';
                    content = `
                        <div class="modal-text">
                            <h3>Essential Training Modules</h3>
                            <p>Learn the core skills every MoeFlavor team member needs!</p>
                        </div>
                        <div class="module-list" id="modules-list"></div>
                        <button class="btn btn-secondary" onclick="closeModal()">Exit Shop</button>
                    `;
                    body.innerHTML = content;
                    loadModules('toolshop');
                    break;

                case 'forge':
                    title.textContent = 'üè≠ The Forge';
                    content = `
                        <div class="modal-text">
                            <h3>Product Research & Development</h3>
                            <p>Learn how we discover trends and create amazing kawaii products!</p>
                            ${isLocked('forge') ? '<p style="color: #ff6b6b;">‚ö†Ô∏è Complete Tool Shop first!</p>' : ''}
                        </div>
                        ${!isLocked('forge') ? '<div class="module-list" id="modules-list"></div>' : ''}
                        <button class="btn btn-secondary" onclick="closeModal()">Exit Forge</button>
                    `;
                    body.innerHTML = content;
                    if (!isLocked('forge')) loadModules('forge');
                    break;

                case 'workshop':
                    title.textContent = 'üì¶ The Workshop';
                    content = `
                        <div class="modal-text">
                            <h3>Production Process</h3>
                            <p>Master the art of bringing products to life!</p>
                            ${isLocked('workshop') ? '<p style="color: #ff6b6b;">‚ö†Ô∏è Complete Forge first!</p>' : ''}
                        </div>
                        ${!isLocked('workshop') ? '<div class="module-list" id="modules-list"></div>' : ''}
                        <button class="btn btn-secondary" onclick="closeModal()">Exit Workshop</button>
                    `;
                    body.innerHTML = content;
                    if (!isLocked('workshop')) loadModules('workshop');
                    break;

                case 'market':
                    title.textContent = 'üõí The Market';
                    content = `
                        <div class="modal-text">
                            <h3>Marketing Mastery</h3>
                            <p>Choose your specialization:</p>
                            ${isLocked('market') ? '<p style="color: #ff6b6b;">‚ö†Ô∏è Complete Workshop first!</p>' : ''}
                        </div>
                        ${!isLocked('market') ? `
                            <div class="module-list">
                                <div class="module-item" onclick="loadMarketRole('shopify')">üõçÔ∏è Shopify Management</div>
                                <div class="module-item" onclick="loadMarketRole('ads')">üì¢ Advertising</div>
                                <div class="module-item" onclick="loadMarketRole('email')">üìß Email Marketing</div>
                                <div class="module-item" onclick="loadMarketRole('graphics')">üé® Graphics Design</div>
                                <div class="module-item" onclick="loadMarketRole('social')">üì± Social Media</div>
                                <div class="module-item" onclick="loadMarketRole('editors')">‚úÇÔ∏è Video Editing</div>
                            </div>
                        ` : ''}
                        <button class="btn btn-secondary" onclick="closeModal()">Exit Market</button>
                    `;
                    body.innerHTML = content;
                    break;

                case 'service':
                    title.textContent = 'üí¨ Service Hall';
                    content = `
                        <div class="modal-text">
                            <h3>Customer Service Excellence</h3>
                            <p>Learn to delight our customers with exceptional service!</p>
                            ${isLocked('service') ? '<p style="color: #ff6b6b;">‚ö†Ô∏è Complete Market first!</p>' : ''}
                        </div>
                        ${!isLocked('service') ? '<div class="module-list" id="modules-list"></div>' : ''}
                        <button class="btn btn-secondary" onclick="closeModal()">Exit Service Hall</button>
                    `;
                    body.innerHTML = content;
                    if (!isLocked('service')) loadModules('service');
                    break;
            }

            modal.classList.add('active');
        }

        // Load Team
        function loadTeam() {
            const teamList = document.getElementById('team-list');
            if (!teamList) return;

            if (trainingData.team && trainingData.team.length > 0) {
                teamList.innerHTML = trainingData.team.map(member => `
                    <div class="module-item">
                        <div style="font-size: 24px; margin-bottom: 5px;">${member.emoji}</div>
                        <strong>${member.name}</strong> - ${member.role}
                    </div>
                `).join('');
            } else {
                teamList.innerHTML = `
                    <div class="module-item">
                        <div style="font-size: 24px;">üëë</div>
                        <strong>The Queen</strong> - Founder & CEO
                    </div>
                    <div class="module-item">
                        <div style="font-size: 24px;">‚öîÔ∏è</div>
                        <strong>The Knights</strong> - Your Amazing Team
                    </div>
                `;
            }
        }

        // Load Modules
        function loadModules(location) {
            const modulesList = document.getElementById('modules-list');
            if (!modulesList) return;

            if (trainingData.phases && trainingData.phases.length > 0) {
                const phase = trainingData.phases[0]; // Get first phase for now
                if (phase.modules && phase.modules.length > 0) {
                    modulesList.innerHTML = phase.modules.map(module => `
                        <div class="module-item ${gameState.completed.includes(module.id) ? 'completed' : ''}" 
                             onclick="viewModule('${module.id}')">
                            <strong>${module.icon || 'üìö'} ${module.title}</strong>
                            <div style="font-size: 12px; margin-top: 5px;">
                                ${module.lessons ? module.lessons.length + ' lessons' : ''} 
                                ${module.quiz ? '‚Ä¢ Quiz included' : ''}
                            </div>
                            ${gameState.completed.includes(module.id) ? '<div style="color: #00ff00;">‚úì Completed</div>' : ''}
                        </div>
                    `).join('');
                    return;
                }
            }

            // Fallback demo content
            modulesList.innerHTML = `
                <div class="module-item" onclick="viewModule('demo1')">
                    <strong>üìö Module 1: Introduction</strong>
                    <div style="font-size: 12px; margin-top: 5px;">3 lessons ‚Ä¢ Quiz included</div>
                </div>
                <div class="module-item" onclick="viewModule('demo2')">
                    <strong>‚ú® Module 2: Core Skills</strong>
                    <div style="font-size: 12px; margin-top: 5px;">5 lessons ‚Ä¢ Quiz included</div>
                </div>
            `;
        }

        // View Module
        function viewModule(moduleId) {
            const body = document.getElementById('modal-body');
            body.innerHTML = `
                <div class="loading">Loading module...</div>
            `;

            // Simulate lesson content
            setTimeout(() => {
                body.innerHTML = `
                    <div class="modal-text">
                        <h3>üìñ Lesson Content</h3>
                        <p>This is where the lesson content from your Google Sheets will appear!</p>
                        <p>Videos, images, and text will be displayed here based on your LessonContent data.</p>
                    </div>
                    <button class="btn" onclick="completeModule('${moduleId}')">Complete Lesson</button>
                    <button class="btn btn-secondary" onclick="enterLocation(gameState.currentLocation)">Back</button>
                `;
            }, 500);
        }

        // Complete Module
        function completeModule(moduleId) {
            if (!gameState.completed.includes(moduleId)) {
                gameState.completed.push(moduleId);
                gameState.xp += 25;
                
                if (gameState.xp >= gameState.maxXp) {
                    gameState.level++;
                    gameState.xp = 0;
                    gameState.maxXp += 50;
                    alert(`üéâ LEVEL UP! You are now Level ${gameState.level}!`);
                }
                
                saveProgress();
                updateUI();
            }
            
            enterLocation(gameState.currentLocation);
        }

        // Complete Castle
        function completeCastle() {
            if (!gameState.completed.includes('castle')) {
                gameState.completed.push('castle');
                gameState.xp += 10;
                saveProgress();
                updateUI();
            }
            closeModal();
        }

        // Check if location is locked
        function isLocked(location) {
            const requirements = {
                'toolshop': 'castle',
                'forge': 'toolshop',
                'workshop': 'forge',
                'market': 'workshop',
                'service': 'market'
            };
            
            const required = requirements[location];
            return required && !gameState.completed.includes(required);
        }

        // Get Location Name
        function getLocationName(location) {
            const names = {
                'map': 'Exploring the Realm',
                'castle': 'Royal Castle',
                'toolshop': 'Tool Shop',
                'forge': 'The Forge',
                'workshop': 'Production Workshop',
                'market': 'Market Square',
                'service': 'Service Hall'
            };
            return names[location] || 'Unknown';
        }

        // Close Modal
        function closeModal() {
            document.getElementById('modal').classList.remove('active');
            gameState.currentLocation = 'map';
            document.getElementById('location-name').textContent = 'Exploring the Realm';
        }

        // Close modal on background click
        document.getElementById('modal').addEventListener('click', (e) => {
            if (e.target.id === 'modal') {
                closeModal();
            }
        });

        // Initialize
        window.addEventListener('load', () => {
            loadProgress();
            fetchTrainingData();
            updateUI();
        });
    </script>
</body>
</html>
